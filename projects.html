<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects • Alumni Connect</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="navbar">
      <div class="nav-left">
        <div class="logo-wrapper">
          <img src="mitaoe-logo.png" alt="MITAOE logo" class="logo-img" />
        </div>
        <div class="brand">
          <span class="brand-title">Alumni Connect</span>
          <span class="brand-subtitle">Students × Alumni</span>
        </div>
      </div>
      <nav class="nav-links">
        <a href="index.html" class="nav-link">Home</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="communities.html" class="nav-link">Communities</a>
        <a href="events.html" class="nav-link">Events</a>
        <a href="projects.html" class="nav-link nav-link-active">Projects</a>
        <a href="gallery.html" class="nav-link">Gallery</a>
        <a href="contact.html" class="nav-link">Contact</a>
      </nav>
      <div class="nav-actions">
        <button class="btn btn-ghost auth-btn" data-auth="signin">Sign In</button>
        <button class="btn btn-primary auth-btn" data-auth="signup">Sign Up</button>
      </div>
    </header>

    <main>
      <section class="section">
        <div class="section-header">
          <h2>Student–Alumni Projects</h2>
          <p>
            Hypothetical collaborations that show how MITAOE students and alumni can
            build real things together.
          </p>
        </div>

        <!-- ADD PROJECT SECTION (Admin / Alumni only) -->
        <div id="addProjectSection" class="about-card" style="display:none;">
          <h3>Add New Project</h3>
          <input
            type="text"
            id="projTitle"
            placeholder="Project Title"
            style="width:100%; margin-bottom:8px;"
          />
          <textarea
            id="projDesc"
            placeholder="Project Description"
            style="width:100%; margin-bottom:8px;"
          ></textarea>
          <button class="btn btn-primary" onclick="addProject()">Add Project</button>
        </div>

        <div class="about-grid" id="projectsContainer">
          <div class="about-card">
            <h3>Placement Tracker Dashboard</h3>
            <p>
              A full-stack web app where final-year students track placement
              attempts and alumni share company-specific tips and resources.
            </p>
          </div>
          <div class="about-card">
            <h3>Smart Campus Energy Monitor</h3>
            <p>
              IoT-based project co-designed by Mechanical, Electrical and IT
              students with alumni working in sustainability and industry 4.0.
            </p>
          </div>
          <div class="about-card">
            <h3>Alumni Stories Podcast</h3>
            <p>
              A student-run podcast where each episode covers the journey of one
              MITAOE graduate – from first year to first job.
            </p>
          </div>
          <div class="about-card">
            <h3>Research Paper Reading Group</h3>
            <p>
              Weekly online meetups to discuss AI, robotics, and core engineering
              research papers with alumni pursuing MS/PhD.
            </p>
          </div>
          <div class="about-card">
            <h3>Startup Idea Sprint</h3>
            <p>
              A 4-week sprint where alumni founders mentor student teams to move
              from idea to clickable prototype.
            </p>
          </div>
          <div class="about-card">
            <h3>Open-Source Contributions</h3>
            <p>
              GitHub-based mentoring tracks where alumni guide students to make
              their first meaningful open-source contributions.
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <p>© <span id="year"></span> Alumni Connect. Built for the MITAOE community.</p>
      <p class="footer-links">
        <a href="index.html">Home</a>
        <span>•</span>
        <a href="about.html">About</a>
        <span>•</span>
        <a href="contact.html">Contact</a>
      </p>
    </footer>

    <div id="auth-modal" class="auth-modal">
      <div class="auth-backdrop"></div>
      <div class="auth-content">
        <!-- unchanged auth modal -->
      </div>
    </div>

    <script src="script.js"></script>

    <!-- PROJECT LOGIC (Frontend Only) -->
    <script>
      if (!localStorage.getItem("userRole")) {
        localStorage.setItem("userRole", "admin");
      }

      const role = localStorage.getItem("userRole");
      if (role === "admin" || role === "alumni") {
        document.getElementById("addProjectSection").style.display = "block";
      }

      let projects = JSON.parse(localStorage.getItem("dynamicProjects")) || [];

      function addProject() {
        const title = document.getElementById("projTitle").value.trim();
        const desc = document.getElementById("projDesc").value.trim();

        if (!title || !desc) {
          alert("Please fill all fields");
          return;
        }

        projects.push({ title, desc });
        localStorage.setItem("dynamicProjects", JSON.stringify(projects));

        document.getElementById("projTitle").value = "";
        document.getElementById("projDesc").value = "";

        renderProjects();
      }

      /* ===== ONLY ADDITION BELOW (no change to your logic) ===== */
      function renderProjects() {
        const container = document.getElementById("projectsContainer");

        // remove previously added dynamic projects only
        const old = container.querySelectorAll(".dynamic-project");
        old.forEach(e => e.remove());

        projects.forEach(p => {
          const card = document.createElement("div");
          card.className = "about-card dynamic-project";
          card.innerHTML = `<h3>${p.title}</h3><p>${p.desc}</p>`;
          container.appendChild(card);
        });
      }
      /* ===== END ADDITION ===== */

      renderProjects();
    </script>
  </body>
</html>
